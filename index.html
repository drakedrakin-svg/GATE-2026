<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Prova GATE</title>

<style>
:root{
  --bg:#0b0f14;
  --card:#121a24;
  --border:#223047;
  --input:#0e141d;
  --blue:#2b6fff;
  --ok:#7CFFB2;
  --err:#FF7C7C;
}
*{box-sizing:border-box}
body{
  margin:0;
  padding:24px;
  font-family:Segoe UI,Arial,sans-serif;
  background:var(--bg);
  color:#eaf0ff;
}
.card{
  max-width:850px;
  margin:auto;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:18px;
  padding:24px;
}
h1{text-align:center;margin-top:0}
.timer{
  text-align:center;
  font-size:18px;
  margin-bottom:20px;
  color:#ffcc66;
}
label{display:block;margin-top:16px}
input{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--input);
  color:#fff;
}
.question{
  margin-top:24px;
  padding:16px;
  border:1px solid var(--border);
  border-radius:12px;
}
.question p{margin:0 0 10px}
button{
  width:100%;
  margin-top:24px;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--blue);
  color:#fff;
  font-size:16px;
  font-weight:700;
  cursor:pointer;
}
#msg{text-align:center;margin-top:16px}
.ok{color:var(--ok)}
.err{color:var(--err)}
</style>
</head>

<body>
<div class="card">
<h1>üìë PROVA GATE</h1>

<div class="timer">
‚è±Ô∏è Tempo restante: <span id="time">20:00</span>
</div>

<label>ID do Discord (obrigat√≥rio)</label>
<input id="discord" placeholder="Ex: 123456789012345678">

<form id="prova"></form>

<button onclick="enviar()">Enviar Prova</button>
<div id="msg"></div>
</div>

<script>
const TEMPO_TOTAL = 20 * 60; // 20 minutos
let tempo = TEMPO_TOTAL;
let intervalo;

const webhook = "https://discord.com/api/webhooks/1461806116987212071/LF2QtlSC7wpwHHiMPZsGWgn9orRG4BCjS2r5GRa0f3GRAndohmirBYnC-QTvPddDum8q";

// GABARITO
const questoes = [
["A pr√°tica de corrup√ß√£o √©:", "Extremamente inadmiss√≠vel", "Permitida", "Opcional", "Aceit√°vel", 0],
["O policial deve obedecer:", "A hierarquia", "Somente civis", "A imprensa", "Qualquer pessoa", 0],
["O CPPM regula:", "Conduta militar", "Somente crimes civis", "Apenas tr√¢nsito", "Economia", 0],
["Ordem ilegal deve ser:", "Questionada", "Cumprida", "Ignorada", "Divulgada", 0],
["Infra√ß√£o leve gera:", "Multa", "Pris√£o", "Exonera√ß√£o", "Nada", 0],
["O policial pode se omitir?", "Nunca", "Sempre", "√Äs vezes", "Se quiser", 0],
["Uso da for√ßa deve ser:", "Proporcional", "Excessivo", "Livre", "Irrestrito", 0],
["Hierarquia garante:", "Disciplina", "Desordem", "Caos", "Impunidade", 0],
["Quem viola o CPPM sofre:", "Puni√ß√£o", "Promo√ß√£o", "Benef√≠cio", "Nada", 0],
["Lealdade institucional √©:", "Obrigat√≥ria", "Opcional", "Tempor√°ria", "Irrelevante", 0],
["Transgress√£o √©:", "Infra√ß√£o disciplinar", "Elogio", "Medalha", "Promo√ß√£o", 0],
["O policial deve proteger:", "A vida", "Somente bens", "A si mesmo", "A corpora√ß√£o apenas", 0],
["A ordem obscura deve ser:", "Esclarecida", "Cumprida sem questionar", "Ignorada", "Divulgada", 0],
["O policial responde por omiss√£o?", "Sim", "N√£o", "Nunca", "Somente civil", 0],
["Hierarquia serve para:", "Organiza√ß√£o", "Abuso", "Favorecimento", "Confus√£o", 0],
["Conduta √©tica √©:", "Obrigat√≥ria", "Opcional", "Rara", "Pun√≠vel", 0],
["Disciplina √© base da:", "Institui√ß√£o", "Anarquia", "Desordem", "Fraude", 0],
["Quem desrespeita regras:", "√â punido", "√â premiado", "Nada sofre", "√â promovido", 0],
["A autoridade vem da:", "Fun√ß√£o", "For√ßa f√≠sica", "Amea√ßa", "Arma", 0],
["O policial deve agir com:", "Imparcialidade", "Favorecimento", "Interesse pr√≥prio", "Vantagem", 0]
];

// MONTAR PROVA
const form = document.getElementById("prova");
questoes.forEach((q,i)=>{
  const div = document.createElement("div");
  div.className = "question";
  div.innerHTML = `<p><strong>${i+1}.</strong> ${q[0]}</p>` +
    q.slice(1,5).map((alt,j)=>
      `<label><input type="radio" name="q${i}" value="${j}"> ${alt}</label>`
    ).join("");
  form.appendChild(div);
});

// TIMER
intervalo = setInterval(()=>{
  tempo--;
  const m = String(Math.floor(tempo/60)).padStart(2,"0");
  const s = String(tempo%60).padStart(2,"0");
  document.getElementById("time").textContent = `${m}:${s}`;
  if(tempo<=0){
    clearInterval(intervalo);
    enviar();
  }
},1000);

// ENVIO
function enviar(){
  clearInterval(intervalo);
  const discord = document.getElementById("discord").value.trim();
  if(discord.length<17){
    alert("ID do Discord obrigat√≥rio.");
    return;
  }

  let acertos = 0;
  questoes.forEach((q,i)=>{
    const r = document.querySelector(`input[name=q${i}]:checked`);
    if(r && Number(r.value)===q[5]) acertos++;
  });

  const status = acertos>=15 ? "APROVADO ‚úÖ" : "REPROVADO ‚ùå";

  fetch(webhook,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      content:
`üìä **RESULTADO PROVA GATE**
üë§ <@${discord}>
üìù Acertos: ${acertos}/20
üìà Nota final: ${acertos}
üìå Status: ${status}`
    })
  });

  document.getElementById("msg").innerHTML =
    `<p class="${acertos>=15?'ok':'err'}">Prova finalizada. Resultado enviado.</p>`;
}
</script>
</body>
</html>
